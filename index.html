<!DOCTYPE html> 
<html>
<head>
	<title>Bubble Island Fork</title>

    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

	<script src="jquery.js" type="text/javascript" charset="utf-8"></script> 
	<script src="jqueryMobile.js" type="text/javascript" charset="utf-8"></script> 
	<script src="side.js" type="text/javascript" charset="utf-8"></script> 
	<script src="bubbleIsland.js" type="text/javascript" charset="utf-8"></script> 	
	<style type="text/css">
		body, html { 
			width: 320px;
			height: 480px
		}

	</style>
</head>
<body>
<nav style="width: 320px; min-height: 480px; background-image: url('background.png'); position: absolute; top: 0px; left: 0px">
</nav>
<nav id="frameBackground" style="width: 320px; min-height: 480px; background-image: url('lvlboundering.png'); position: absolute; top: 0px; left: 0px;">
</nav>
 <!--background-image: url('background.png')-->
<!--canvas id="gameBackgroundCanvas" style="position: absolute; top: 0px; left: 0px"></canvas-->
<canvas id="gameCanvas" style="position: absolute; top: 0px; left: 0px; display:none" ></canvas>
<nav id="animCanvas" style="position: absolute; top: 0px; left: 0px;"></nav>
<nav id="gameMenu" style="width: 320px; min-height: 480px; position: absolute; top: 0px; left: 0px; text-align: center; ;">
	<div style="position: absolute; display: table; top: 20%; bottom: auto; margin: auto; width: 100%">
	<span style="font: bold 20px verdana, sans-serif; text-align: center">Bubble Paradise</span><br>
	<div style="margin-top: 20px">
	<nav style="font: bold 15px verdana, sans-serif; margin-top: 10px" onClick="game.startNewGame()">New Game</nav>
	<nav style="font: bold 15px verdana, sans-serif; margin-top: 10px">Continue Game</nav>
	<nav style="font: bold 15px verdana, sans-serif; margin-top: 10px">Options</nav>
	<nav style="font: bold 15px verdana, sans-serif; margin-top: 10px" onClick="ww = window.open(window.location, '_self'); 	ww.close();">Leave Paradise :(</nav>
	</div>
	</div>
</nav>
<nav id = "initScreen" style="position: absolute; top: 0px; left: 0px; border: 1px solid black; width: 100%; height: 100%; background-color: #fff	">
<img id="logoImg" src="logo.jpg" alt="logo" style="display: none; display: none; margin-left:auto; margin-right:auto; "/>
<div id = "loadingScreen" style="position: absolute; top: 50%; bottom: auto; width: 100%; height: 50%; background-color: #fff">
	<div style="font: 2em Verdana, sans-serif; text-align: center; width: 100%">Loading... </div><br>
	<div style="width: 80%; min-height: 30px; border: 1px solid black; margin: 0 auto">
		<div id="progress" style="width: 50%; height: 30px; border: 1px solid black; background-color: #333333">
		</div>
	</div>
</div>
</nav>
<div id="debug-div"></div>
<script type="text/javascript" charset="utf-8">
$(window).load(function () {
  // run code
	//game = new appEnviroment("gameCanvas", "854x480");
	/*game = new appEnviroment("gameCanvas", "320x480");
	setDebugEnv('debug-div');
	var animTimer = setInterval(tick, 42);*/
	 /*$(window).bind('orientationchange', function(e){
		//alert(window.orientation);
		alert(e.orientation);
        //setOrientation();
    });

    $(window).trigger('orientationchange');*/
});


loader = new Loader('progress');
loader.readyLoad = function(){	
	//toda la intro del juego
	
	$('#loadingScreen').fadeOut('fast', function(){
		$('#logoImg').fadeIn(1900, function(){
			$(this).fadeOut(1900, function(){
				$("#initScreen").remove();		
				//game = new appEnviroment("gameCanvas", "gameMenu", "gameBackgroundCanvas", "320x480");
				game = new appEnviroment("gameCanvas", "gameMenu", "animCanvas", "854x480");
				//clock.connect(game.startAnimation, 'tick')
				//clock.start();				
				
			});
		});
		//$('#logoImg').fadeIn();
	});
};
/*alert(screen.width + ' : ' + screen.height);

	*switch(size){
		case "320x480":
			this.canvas.width = 320;
			this.canvas.height = 480;
			this.level = new bubbleLevel(240, 400, 10, 20)
			break;
		case "360x480":
			this.canvas.width = 360;
			this.canvas.height = 480;
			this.level = new bubbleLevel(360, 480, 12, 20)
			break;
		case "640x960":
			this.canvas.width = 640;
			this.canvas.height = 960;
			this.level = new bubbleLevel(640, 960, 15, 30)
			break;
		case "480x800":
			this.canvas.width = 480;
			this.canvas.height = 800;
			this.level = new bubbleLevel(480, 800, 13, 25)
			break;
		case "854x480":
			//$('#'+canvasObj).width(854);
			//$('#'+canvasObj).height(480);
			this.canvas.height = 480; 
			this.canvas.width = 854;
			this.level = new bubbleLevel(854, 480, 25, 20)
			break;
	};*/

loader.init();
var s = document.createElement('script');
s.src = 'https://github.com/mrdoob/stats.js/raw/master/build/Stats.js';
document.body.appendChild(s);
s.onload = function() {

    var stats = new Stats(),
        ss = stats.domElement.style;
    ss.position = 'fixed';
    ss.left = '0px';
    ss.top = '0px';
    document.body.appendChild(stats.domElement);
    setInterval(stats.update, 1000 / 60);
}


</script> 
</body>
</html>